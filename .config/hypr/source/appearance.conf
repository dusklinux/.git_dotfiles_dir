# -------------------------------------------------------------------------------------------------
# THEME SOURCE
# -------------------------------------------------------------------------------------------------
# Sourcing colors generated by Matugen
source = ~/.config/matugen/generated/hyprland-colors.conf

# -------------------------------------------------------------------------------------------------
# 1. GENERAL APPEARANCE
# Control gaps, borders, and layout behavior.
# See: https://wiki.hyprland.org/Configuring/Variables/#general
# -------------------------------------------------------------------------------------------------
general {
    # --- Gaps & Borders ---
    gaps_in = 3                 # Gap between windows
    gaps_out = 6                # Gap between windows and monitor edges
    border_size = 2             # Size of window borders
    
    # --- Colors ---
    # Uses variables from the sourced matugen file
    col.active_border = $primary
    col.inactive_border = $inverse_on_surface 

    # --- Behavior ---
    # RESIZING: Set to true. This allows you to resize windows by clicking and dragging 
    # on the gaps/border area, rather than hitting the exact 2px pixel border.
    #resize_on_border = true     
    
    # TEARING: Allows lower latency in games. 
    # NOTE: To use this, you must also apply 'windowrulev2 = immediate, class:^(game_class)$'
    allow_tearing = true        

    # Default layout engine
    layout = dwindle
}

# -------------------------------------------------------------------------------------------------
# 2. DECORATION
# Shadows, Blur, Opacity, and Rounding.
# See: https://wiki.hyprland.org/Configuring/Variables/#decoration
# -------------------------------------------------------------------------------------------------
decoration {
    # --- Rounding ---
    rounding = 6
    rounding_power = 6.0 

    # --- Opacity ---
    active_opacity = 1.0
    inactive_opacity = 1.0
    fullscreen_opacity = 1.0

    # --- Dimming ---
    dim_inactive = true
    dim_strength = 0.2
    dim_special = 0.8           # Stronger dimming for special workspace to highlight content

    # --- Shadows ---
    # Enabled because your hardware (12700H) can easily handle it.
    shadow {
        enabled = true
        range = 20
        render_power = 3
        color = rgba(00000055)  # Soft transparent black
    }

    # --- Blur ---
    # Enabled for aesthetic depth.
    blur {
        enabled = false
        size = 4                # Radius
        passes = 2              # Quality (2 is a good balance of perf/looks)
        new_optimizations = true
        ignore_opacity = true   # Blurs behind transparent windows even if opacity is high
        xray = false            # If true, you can "see through" the blur. 
        vibrancy = 0.1696
    }
    
    # --- Shaders ---
    # screen_shader = ~/.config/hypr/shaders/grayscale_advanced.glsl
}

# -------------------------------------------------------------------------------------------------
# 3. ANIMATIONS
# See: https://wiki.hyprland.org/Configuring/Animations/
# -------------------------------------------------------------------------------------------------
animations {
    enabled = true
    # Animation curves
    bezier = wind, 0.05, 0.9, 0.1, 1.05
    bezier = winIn, 0.1, 1.1, 0.1, 1.1
    bezier = winOut, 0.3, -0.3, 0, 1
    bezier = liner, 1, 1, 1, 1
    # bezier = linear, 0, 0, 1, 1
    bezier = md3_standard, 0.2, 0, 0, 1
    bezier = md3_decel, 0.05, 0.7, 0.1, 1
    bezier = md3_accel, 0.3, 0, 0.8, 0.15
    bezier = overshot, 0.05, 0.9, 0.1, 1.1
    bezier = crazyshot, 0.1, 1.5, 0.76, 0.92 
    bezier = hyprnostretch, 0.05, 0.9, 0.1, 1.0
    bezier = menu_decel, 0.1, 1, 0, 1
    bezier = menu_accel, 0.38, 0.04, 1, 0.07
    bezier = easeInOutCirc, 0.85, 0, 0.15, 1
    bezier = easeOutCirc, 0, 0.55, 0.45, 1
    bezier = easeOutExpo, 0.16, 1, 0.3, 1
    bezier = softAcDecel, 0.26, 0.26, 0.15, 1
    bezier = md2, 0.4, 0, 0.2, 1 # use with .2s duration
    
    # Animation configs
    # animation = windows, 1, 3, md3_decel, popin 60%
    # animation = windowsIn, 1, 3, md3_decel, popin 60%
    # animation = windowsOut, 1, 3, md3_accel, popin 60%
    # animation = windows, 1, 6, wind, slide
    animation = border, 1, 1, liner
    animation = borderangle, 1, 30, liner, once
    animation = windows, 1, 6, wind, slide
    animation = windowsIn, 1, 6, winIn, slide
    animation = windowsOut, 1, 5, winOut, slide
    animation = windowsMove, 1, 6, wind, slide

    # animation = border, 1, 10, default
    animation = fade, 1, 3, md3_decel
    # animation = layers, 1, 2, md3_decel, slide
    animation = layersIn, 1, 3, menu_decel, slide
    animation = layersOut, 1, 1.6, menu_accel
    animation = fadeLayersIn, 1, 2, menu_decel
    animation = fadeLayersOut, 1, 0.5, menu_accel
    animation = workspaces, 1, 7, menu_decel, slide
    animation = workspaces, 1, 6, overshot, slidevert
    # animation = workspaces, 1, 2.5, softAcDecel, slide
    # animation = workspaces, 1, 7, menu_decel, slidefade 15%
    animation = specialWorkspace, 1, 3, md3_decel, slidefadevert 15%
    animation = specialWorkspace, 1, 3, md3_decel, slidevert

  # --- Border Animations (Performance Intensive) --- loop or once
#    animation = borderangle, 1, 30, linear, once 
}

# -------------------------------------------------------------------------------------------------
# 4. LAYOUTS
# -------------------------------------------------------------------------------------------------
dwindle {
    pseudotile = true
    preserve_split = true
  # smart_split = false     # If true, splits based on mouse position.
  # smart_resizing = false  # If true, resizing direction is determined by mouse pos.
}

master {
    new_status = master
}

# -------------------------------------------------------------------------------------------------
# 5. MISCELLANEOUS & PERFORMANCE
# See: https://wiki.hyprland.org/Configuring/Variables/#misc
# -------------------------------------------------------------------------------------------------
misc {
    force_default_wallpaper = 1     # Set to 0 to enable the anime mascot (if you want it), 1 to disable.
    disable_hyprland_logo = true
    disable_splash_rendering = true
    
    # Power Saving & Refresh Rate
    vfr = true                   # Variable Frame Rate (Critical for laptop battery)

    # uses extra 1 watt but looks smoother when enabled (1)
    # vrr = 1                         # 0=off, 1=on, 2=fullscreen only. 1 enables Adaptive Sync (G-Sync/FreeSync).
    
    # Input Lag
}

# -------------------------------------------------------------------------------------------------
# 6. BINDS (Visual specific)
# -------------------------------------------------------------------------------------------------
binds {
    allow_pin_fullscreen = true
}

#debug {
#    overlay = true
#}
