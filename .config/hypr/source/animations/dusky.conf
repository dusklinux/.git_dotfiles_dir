# ----------------------------------------------------- 
# FLUID Dusky: The "Showcase" Edition
# ----------------------------------------------------- 
# Tuned daily driving: Slower, cinematic, and 
# perfectly fluid.
# ----------------------------------------------------- 

animations {
    enabled = true
    
    # ----------------------------------------------------- 
    # Custom Bezier Curves (The "Physics" of movement)
    # Syntax: bezier = NAME, X0, Y0, X1, Y1
    # ----------------------------------------------------- 

    # "Overshoot" - The Bouncy One
    # Goes past the target (1.1) and snaps back.
    # Used for: Windows opening, Rofi, Workspaces.
    bezier = overshot, 0.05, 0.9, 0.1, 1.1
    
    # "Fluid" - The Smooth One
    # Standard ease-out. No bounce, just a clean stop.
    # Used for: Fading opacity.
    bezier = fluid, 0.25, 1, 0, 1

    # "Snap" - The Quick One
    # A slightly tighter curve than fluid, good for closing things.
    # Used for: Windows closing.
    bezier = snap, 0.5, 0.9, 0.1, 1.05
    
    # "Menu Decel" - The Glider
    # Starts fast, decelerates very slowly.
    # Used for: Sliding menus (SwayNC) and closing layers.
    bezier = menu_decel, 0.1, 1, 0, 1
    
    # "Liner" - The Robot
    # Constant speed, no acceleration.
    # Used for: Border color cycling.
    bezier = liner, 1, 1, 1, 1
    
    # ----------------------------------------------------- 
    # Animation Tree Configs
    # Syntax: animation = NAME, ONOFF, SPEED(ds), CURVE, STYLE
    # ----------------------------------------------------- 
    
    # -- Window Animations --
    
    # Open: Duration 7ds (700ms).
    # Uses 'overshot' to bounce, starts at 80% size and grows.
    animation = windowsIn, 1, 7, overshot, popin 80%
    
    # Close: Duration 5ds (500ms).
    # Uses 'snap' for a quicker, cleaner exit.
    animation = windowsOut, 1, 5, snap, popin 80%
    
    # Move: Duration 7ds.
    # When dragging/resizing, windows feel heavy and elastic.
    animation = windowsMove, 1, 7, overshot, slide

    # -- Aesthetics --
    
    # Border Color: Changes color over 2ds (linear).
    animation = border, 1, 2, liner
    
    # Border Angle: Rotates the gradient once over 40ds.
    animation = borderangle, 1, 40, liner, once
    
    # Fades: Opacity changes take 5ds using the smooth 'fluid' curve.
    animation = fade, 1, 5, fluid

    # ----------------------------------------------------- 
    # Layer Animations (Rofi, Waybar, SwayNC, etc.)
    # ----------------------------------------------------- 
    
    # Layers Open (Global Default)
    # This is tuned specifically for ROFI as requested.
    # - Speed: 6ds (Slower/Cinematic)
    # - Curve: 'overshot' (Elastic bounce)
    # - Style: 'popin 10%' (Starts tiny at 10% size, expands to 110%, settles at 100%)
    animation = layersIn, 1, 6, overshot, popin 10%

    # Layers Close
    # We switch to 'menu_decel' and 'slide' for a simpler exit.
    # This ensures menus don't "bounce" when disappearing, they just glide away.
    animation = layersOut, 1, 4, menu_decel, slide
    
    # Fade Layers
    # Controls the opacity fade separately from the movement.
    animation = fadeLayersIn, 1, 5, menu_decel
    animation = fadeLayersOut, 1, 4, menu_decel

    # -- Workspace Transitions --
    
    # Regular Workspaces: Duration 8ds.
    # 'slidevert' moves workspaces vertically. 'overshot' makes them bounce slightly on arrival.
    animation = workspaces, 1, 8, overshot, slidevert
    
    # Special Workspace (Scratchpad):
    # Same physics, but standard 'slide' (horizontal) instead of vertical.
    animation = specialWorkspace, 1, 8, overshot, slide

    # ----------------------------------------------------- 
    # Layer Rules (Exceptions & Overrides)
    # ----------------------------------------------------- 
    
    # SwayNC (Notification Center)
    # PROBLEM: The global 'layersIn' uses 'popin', which looks bad on sidebars.
    # FIX: We force SwayNC to use 'slide left'.
    # NOTE: It still inherits the Speed (6ds) and Curve (overshot) from 'layersIn',
    #       giving it a heavy, bouncy slide effect.
    layerrule = animation slide left, swaync-control-center
    layerrule = animation slide left, swaync-notification-window

    # Rofi (Launcher)
    # Redundant but explicit. Matches the global 'layersIn' definition.
    # Ensures Rofi pops in from 10% size with a bounce.
    layerrule = animation popin 10%, rofi
}
