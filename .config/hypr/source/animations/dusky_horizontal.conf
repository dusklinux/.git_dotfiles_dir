# ----------------------------------------------------- 
# FLUID Dusky: The "Showcase" Edition
# ----------------------------------------------------- 
# Tuned for 60FPS recording: Slower, cinematic, and 
# perfectly fluid.
# ----------------------------------------------------- 

animations {
    enabled = true
    
    # --- Physics Beziers ---
    # "Overshoot" - 10% bounce (1.1). 
    # With slower speed, this looks like heavy, expensive glass.
    bezier = overshot, 0.05, 0.9, 0.1, 1.1
    
    # "Fluid" - Perfect ease-out for opacity/fades
    bezier = fluid, 0.25, 1, 0, 1

    # "Snap" - Slightly looser than before for the "fluid" feel.
    bezier = snap, 0.5, 0.9, 0.1, 1.05
    
    # "Menu" - Very slow ease-out for that "gliding" sidebar.
    bezier = menu_decel, 0.1, 1, 0, 1
    
    bezier = liner, 1, 1, 1, 1
    
    # --- Animation Configs ---
    
    # Windows: Showcase Speed
    # Duration 7 (~450ms) lets the recording capture the full bounce.
    animation = windowsIn, 1, 7, overshot, popin 80%
    animation = windowsOut, 1, 5, snap, popin 80%
    animation = windowsMove, 1, 7, overshot, slide

    # Border & Fade: Cinematic fades
    animation = border, 1, 2, liner
    animation = borderangle, 1, 40, liner, once
    animation = fade, 1, 5, fluid

    # --- THE FIX: SPLIT LAYER ANIMATIONS ---
    
    # 1. For Rofi (Popin): The "Showcase" Bounce
    # Duration 6 ensures you see the full elasticity.
    animation = layersIn, 1, 6, overshot, popin 80%
    
    # 2. For SwayNC (Slide): The "Butter" Slide
    # Duration 5 with 'menu_decel' makes it glide like a premium mobile drawer.
    animation = layersIn, 1, 5, menu_decel, slide

    # Layers Out (Closing)
    # Slower exit so it doesn't just disappear instantly.
    animation = layersOut, 1, 4, menu_decel, slide
    animation = fadeLayersIn, 1, 5, menu_decel
    animation = fadeLayersOut, 1, 4, menu_decel

    # --- Workspaces ---
    # The Star of the Show
    # Duration 8 makes the horizontal slide feel incredibly substantial.
    animation = workspaces, 1, 8, overshot, slide
    animation = specialWorkspace, 1, 8, overshot, slidevert

    # ----------------------------------------------------- 
    # Custom Overrides
    # ----------------------------------------------------- 
    
    # SwayNC uses 'slide', so it catches rule #2 (Smooth)
    layerrule = animation slide left, swaync-control-center
    layerrule = animation slide left, swaync-notification-window

    # Rofi uses 'popin', so it catches rule #1 (Bouncy)
    layerrule = animation popin 10%, rofi
}
