# ----------------------------------------------------- 
# FLUID CUSTOM: The "Split Personality" Layer Fix
# ----------------------------------------------------- 

animations {
    enabled = true
    
    # --- Physics Beziers ---
    bezier = overshot, 0.05, 0.9, 0.1, 1.1
    bezier = fluid, 0.25, 1, 0, 1
    bezier = snap, 0.5, 0.9, 0.1, 1.05
    bezier = menu_decel, 0.1, 1, 0, 1
    bezier = liner, 1, 1, 1, 1
    
    # --- Animation Configs ---
    
    # Windows: Keep the High Energy Bounce
    animation = windowsIn, 1, 5, overshot, popin 80%
    animation = windowsOut, 1, 4, snap, popin 80%
    animation = windowsMove, 1, 5, overshot, slide

    # Border & Fade
    animation = border, 1, 1, liner
    animation = borderangle, 1, 30, liner, once
    animation = fade, 1, 3, fluid

    # --- THE FIX: SPLIT LAYER ANIMATIONS ---
    
    # 1. For Rofi (Popin): Keep the bounce!
    # Anything that uses 'popin' (like Rofi) will use the 'overshot' curve.
    animation = layersIn, 1, 4, overshot, popin 80%
    
    # 2. For SwayNC (Slide): Make it smooth!
    # Anything that uses 'slide' (like SwayNC) will use 'menu_decel' (no bounce).
    animation = layersIn, 1, 3, menu_decel, slide

    # Layers Out (Closing)
    animation = layersOut, 1, 2, menu_decel, slide
    animation = fadeLayersIn, 1, 3, menu_decel
    animation = fadeLayersOut, 1, 1.5, menu_decel

    # --- Workspaces ---
    animation = workspaces, 1, 6, overshot, slidevert
    animation = specialWorkspace, 1, 6, overshot, slide

    # ----------------------------------------------------- 
    # Custom Overrides
    # ----------------------------------------------------- 
    
    # SwayNC uses 'slide', so it catches rule #2 (Smooth)
    layerrule = animation slide left, swaync-control-center
    layerrule = animation slide left, swaync-notification-window

    # Rofi uses 'popin', so it catches rule #1 (Bouncy)
    layerrule = animation popin 80%, rofi
}
